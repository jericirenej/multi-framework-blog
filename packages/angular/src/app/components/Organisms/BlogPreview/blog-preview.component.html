@let isOwnPost = data() | isAuthor | async;
<div [class]="style.outerWrapper">
  <app-box>
    <div [class]="style.innerWrapper(isOwnPost)">
      <div [class]="style.date.wrapper">
        <span [class]="style.date.span" title="Created date">{{
          data().created_at | date
        }}</span>
      </div>
      @if (isOwnPost) {
        <div [class]="style.actions.wrapper">
          <a [routerLink]="`/blog/edit/${data().id}`" title="Update post">
            <app-edit-icon [class]="style.actions.editIcon" />
          </a>
          <button
            (click)="show.set(true)"
            title="Delete post"
            [class]="style.actions.deleteButton"
          >
            <app-delete-icon />
          </button>
        </div>
      }
    </div>
    <a [routerLink]="`/blog/${data().id}`">
      <div [class]="style.post.wrapper">
        <h2 [class]="style.post.heading">
          {{ data().title }}
        </h2>
        <span [class]="style.post.author" title="Author">{{
          data().author_name
        }}</span>
      </div>
      <div [class]="style.post.content">
        <p>{{ data().summary }}</p>
      </div>
    </a>
  </app-box>
</div>

<app-delete-blog-dialog [(show)]="show" (confirmDelete)="deleteAction.emit()" />
